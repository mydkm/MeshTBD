import meshlib.mrmeshpy as mrmeshpy

# 1. Load the mesh
mesh = mrmeshpy.loadMesh("a5.ply")

# 2. Build the correct parameter block
params = mrmeshpy.GeneralOffsetParameters()
params.voxelSize = mesh.computeBoundingBox().diagonal() * 5e-4  # grid resolution

# ► If the mesh is **open** (non‑watertight) use the Unsigned mode
#   so both the inner and outer skins stay open.
if not mrmeshpy.findRightBoundary(mesh.topology).empty():
    params.signDetectionMode = mrmeshpy.SignDetectionMode.Unsigned  # see doc note :contentReference[oaicite:1]{index=1}
# If it is closed but has small holes you can choose:
# params.signDetectionMode = mrmeshpy.SignDetectionMode.HoleWindingRule

# 3. Offset distance (positive = outward, negative = inward)
offset = mesh.computeBoundingBox().diagonal() * 0.05

# 4. Generate the thickened mesh
result_mesh = mrmeshpy.thickenMesh(mesh, offset, params)

# 5. Save to disk
mrmeshpy.saveMesh(result_mesh, "a8.ply")
